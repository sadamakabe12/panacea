-- ======================================================================
-- Справочные данные категорий МКБ-10 для медицинской системы "Панацея"
-- Основные категории Международной классификации болезней 10-го пересмотра
-- ======================================================================

USE `medical_system_panacea`;

-- Вставка основных категорий МКБ-10
INSERT INTO `icd10_categories` (`category_code`, `category_name`, `category_description`) VALUES
('A00-B99', 'Некоторые инфекционные и паразитарные болезни', 'Включает инфекционные болезни, передающиеся различными путями'),
('C00-D48', 'Новообразования', 'Включает злокачественные и доброкачественные новообразования'),
('D50-D89', 'Болезни крови, кроветворных органов и отдельные нарушения, вовлекающие иммунный механизм', 'Анемии, нарушения свертываемости, иммунодефициты'),
('E00-E90', 'Болезни эндокринной системы, расстройства питания и нарушения обмена веществ', 'Сахарный диабет, заболевания щитовидной железы, ожирение'),
('F00-F99', 'Психические расстройства и расстройства поведения', 'Включает органические психические расстройства, шизофрению, аффективные расстройства'),
('G00-G99', 'Болезни нервной системы', 'Заболевания центральной и периферической нервной системы'),
('H00-H59', 'Болезни глаза и его придаточного аппарата', 'Глаукома, катаракта, нарушения зрения'),
('H60-H95', 'Болезни уха и сосцевидного отростка', 'Нарушения слуха, отиты, головокружение'),
('I00-I99', 'Болезни системы кровообращения', 'Гипертония, ишемическая болезнь сердца, инсульты'),
('J00-J99', 'Болезни органов дыхания', 'Респираторные инфекции, астма, хроническая обструктивная болезнь легких'),
('K00-K93', 'Болезни органов пищеварения', 'Гастриты, язвенная болезнь, болезни печени'),
('L00-L99', 'Болезни кожи и подкожной клетчатки', 'Дерматиты, экземы, псориаз'),
('M00-M99', 'Болезни костно-мышечной системы и соединительной ткани', 'Артриты, остеопороз, болезни позвоночника'),
('N00-N99', 'Болезни мочеполовой системы', 'Болезни почек, мочевого пузыря, половых органов'),
('O00-O99', 'Беременность, роды и послеродовой период', 'Осложнения беременности и родов'),
('P00-P96', 'Отдельные состояния, возникающие в перинатальном периоде', 'Состояния новорожденных'),
('Q00-Q99', 'Врожденные аномалии (пороки развития), деформации и хромосомные нарушения', 'Врожденные пороки различных систем органов'),
('R00-R99', 'Симптомы, признаки и отклонения от нормы, выявленные при клинических и лабораторных исследованиях, не классифицированные в других рубриках', 'Неспецифические симптомы и синдромы'),
('S00-T98', 'Травмы, отравления и некоторые другие последствия воздействия внешних причин', 'Различные виды травм и отравлений'),
('V01-Y98', 'Внешние причины заболеваемости и смертности', 'Коды причин травм и отравлений'),
('Z00-Z99', 'Факторы, влияющие на состояние здоровья населения и обращения в учреждения здравоохранения', 'Профилактические осмотры, диспансеризация');

-- Примеры конкретных диагнозов для демонстрации связей
INSERT INTO `icd10_diagnoses` (`icd10_code`, `diagnosis_name`, `category_id`) VALUES
-- Болезни системы кровообращения (I00-I99)
('I10', 'Эссенциальная гипертензия', (SELECT category_id FROM icd10_categories WHERE category_code = 'I00-I99')),
('I20', 'Стенокардия', (SELECT category_id FROM icd10_categories WHERE category_code = 'I00-I99')),
('I21', 'Острый инфаркт миокарда', (SELECT category_id FROM icd10_categories WHERE category_code = 'I00-I99')),
('I50', 'Сердечная недостаточность', (SELECT category_id FROM icd10_categories WHERE category_code = 'I00-I99')),

-- Болезни органов дыхания (J00-J99)
('J06', 'Острые инфекции верхних дыхательных путей множественной и неуточненной локализации', (SELECT category_id FROM icd10_categories WHERE category_code = 'J00-J99')),
('J45', 'Астма', (SELECT category_id FROM icd10_categories WHERE category_code = 'J00-J99')),
('J44', 'Другая хроническая обструктивная легочная болезнь', (SELECT category_id FROM icd10_categories WHERE category_code = 'J00-J99')),

-- Болезни эндокринной системы (E00-E90)
('E10', 'Инсулинзависимый сахарный диабет', (SELECT category_id FROM icd10_categories WHERE category_code = 'E00-E90')),
('E11', 'Инсулиннезависимый сахарный диабет', (SELECT category_id FROM icd10_categories WHERE category_code = 'E00-E90')),
('E78', 'Нарушения обмена липопротеинов и другие липидемии', (SELECT category_id FROM icd10_categories WHERE category_code = 'E00-E90')),

-- Болезни костно-мышечной системы (M00-M99)
('M79', 'Другие болезни мягких тканей, не классифицированные в других рубриках', (SELECT category_id FROM icd10_categories WHERE category_code = 'M00-M99')),
('M25', 'Другие поражения суставов, не классифицированные в других рубриках', (SELECT category_id FROM icd10_categories WHERE category_code = 'M00-M99')),

-- Болезни органов пищеварения (K00-K93)
('K29', 'Гастрит и дуоденит', (SELECT category_id FROM icd10_categories WHERE category_code = 'K00-K93')),
('K80', 'Желчнокаменная болезнь', (SELECT category_id FROM icd10_categories WHERE category_code = 'K00-K93'));

-- Проверочный запрос для демонстрации связей
SELECT 
    ic.category_code,
    ic.category_name,
    COUNT(id.icd10_code) as diagnoses_count
FROM icd10_categories ic
LEFT JOIN icd10_diagnoses id ON ic.category_id = id.category_id
GROUP BY ic.category_id, ic.category_name
ORDER BY ic.category_code;
