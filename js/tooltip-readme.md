# Система всплывающих подсказок (Tooltip System)

## Обзор изменений

Система всплывающих подсказок была успешно перенесена из встроенного JavaScript в докторах в отдельный файл `tooltip.js`. В ходе переноса были внесены следующие улучшения:

1. **Глобальная доступность**:
   - Функция `initTooltipSystem` теперь корректно доступна в глобальном контексте
   - Решена проблема с областью видимости (scope) функции

2. **Улучшенное управление DOM**:
   - Добавлена правильная проверка готовности DOM
   - Исправлены проблемы с инициализацией на разных стадиях загрузки страницы

3. **Отладка**:
   - Добавлен параметр для включения отладочной информации
   - Добавлены сообщения в консоли для легкой диагностики

4. **Улучшения UX**:
   - Добавлена поддержка закрытия по клавише ESC
   - Улучшена обработка наведения между кнопкой и подсказкой

## Использование

### Базовое подключение

1. Добавьте в `<head>`:
```html
<link rel="stylesheet" href="../css/tooltip.css">
```

2. Перед закрывающим тегом `</body>`:
```html
<script src="../js/tooltip.js"></script>
<script>
    // Инициализация с параметрами по умолчанию
    initTooltipSystem();
</script>
```

### Расширенное использование

```html
<script src="../js/tooltip.js"></script>
<script>
    // Все параметры
    initTooltipSystem(
        '.tooltip-container',  // Селектор контейнера для tooltip
        '.doctor-tooltip',     // Селектор самого tooltip
        'button',              // Селектор кнопки, активирующей tooltip
        true                   // Режим отладки (выводит сообщения в консоль)
    );
</script>
```

### HTML-структура

```html
<div class="tooltip-container">
    <!-- Кнопка, активирующая tooltip -->
    <button class="btn-primary">Показать детали</button>
    
    <!-- Сам tooltip -->
    <div class="doctor-tooltip position-top">
        <div class="tooltip-header">Заголовок</div>
        <div class="tooltip-content">
            <div class="tooltip-row tooltip-name">
                <span class="tooltip-label">Метка:</span>
                <span class="tooltip-value">Значение</span>
            </div>
            <!-- Другие строки... -->
        </div>
    </div>
</div>
```

## Поддерживаемые классы позиционирования

- `position-top` - Tooltip появляется над элементом
- `position-bottom` - Tooltip появляется под элементом

## Устранение неполадок

Если всплывающие подсказки не работают:

1. Проверьте консоль браузера на наличие ошибок
2. Включите режим отладки, передав `true` в качестве последнего параметра функции `initTooltipSystem`
3. Убедитесь, что HTML-структура соответствует требуемой
4. Проверьте, что CSS-файл корректно загружен
